<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Jogo da Forca</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; }
    #letras button { margin: 2px; padding: 10px; }
    #palavra { font-size: 2em; letter-spacing: 5px; }
  </style>
</head>
<body>
  <h1>üéÆ Jogo da Forca</h1>
  <div id="menu">
    <button onclick="iniciarJogo(1)">Modo F√°cil (1 palavra)</button>
    <button onclick="iniciarJogo(3)">Modo Dif√≠cil (3 palavras)</button>
  </div>
  <h2 id="tema"></h2>
  <p id="palavra"></p>
  <p id="forca"></p>
  <p id="mensagem"></p>
  <div id="letras"></div>

  <script>
    // Fun√ß√£o para normalizar acentos/h√≠fens
    function removerAcentos(str) {
      return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/-/g, " ");
    }

    // Banco de palavras
    const palavras = {
      frutas: ["Abacate","Amora","Ameixa","Abacaxi","Acerola","Banana","Caqui","Caju","Cereja","Carambola",
      "Damasco","Figo","Framboesa","Graviola","Goiaba","Guaran√°","Jaca","Jabuticaba","Kiwi","Laranja","Lim√£o",
      "Morango","Mel√£o","Ma√ß√£","Maracuj√°","Mam√£o","Manga","Nectarina","P√™ra","Pitanga","P√™ssego","Rom√£",
      "Tomate","Tangerina","Uva"],
      animais: ["abelha","abutre","√°guia","alce","alpaca","anta","ant√≠lope","aranha","arara","avestruz",
      "babu√≠no","bacalhau","bagre","baiacu","baleia","barata","beija-flor","besouro","bezerro","bode",
      "boi","borboleta","boto","b√∫falo","burro","cabra","cachorro","c√°gado","camale√£o","camar√£o","camelo",
      "camundongo","can√°rio","canguru","capivara","caracol","caranguejo","carneiro","carrapato","cascavel",
      "castor","cavalo","cavalo-marinho","cegonha","centopeia","chimpanz√©","chinchila","cigarra","cisne",
      "coala","cobra","codorna","coelho","coiote","coruja","corvo","crocodilo","cupim","cutia","diabo-da-tasm√¢nia",
      "doninha","drag√£o-de-komodo","dromed√°rio","√©gua","elefante","ema","enguia","escaravelho","escorpi√£o",
      "esponja","esquilo","estrela-do-mar","fais√£o","falc√£o","flamingo","foca","formiga","fuinha","fur√£o",
      "gafanhoto","gaivota","galinha","galo","gamb√°","gar√ßa","gato","gavi√£o","gazela","girafa","golfinho",
      "gorila","gralha","grilo","guar√°","guaxinim","hamster","harpia","hiena","hipop√≥tamo","iguana","jabuti",
      "jacar√©","jaguar","jamanta","jararaca","javali","jiboia","joaninha","jo√£o-de-barro","jumento","kiwi",
      "koala","lagarta","lagartixa","lagarto","lagosta","le√£o","le√£o-marinho","lebre","l√™mur","leopardo",
      "lesma","lhama","lib√©lula","lince","lobo","lombriga","lontra","lula","macaco","mamute","marimbondo",
      "mariposa","marisco","marmota","marreco","medusa","mexilh√£o","mico","minhoca","morcego","morsa","mosca",
      "mosquito","mula","naja","narval","ocapi","on√ßa","orangotango","orca","ornitorrinco","ostra","ouri√ßo",
      "ovelha","panda","pantera","papagaio","pardal","pato","pav√£o","peixe","peixe-boi","pelicano","percevejo",
      "periquito","pernilongo","peru","pica-pau","pinguim","piolho","piranha","polvo","pombo","p√¥nei","porco",
      "porco-espinho","porquinho-da-√≠ndia","pregui√ßa","pulga","quati","quero-quero","r√£","raia","raposa",
      "ratazana","rato","rinoceronte","sabi√°","sagui","salamandra","salm√£o","sapo","sardinha","seriema","serpente",
      "siri","tamandu√°","tar√¢ntula","tartaruga","tatu","texugo","tico-tico","tigre","til√°pia","toupeira","touro",
      "tubar√£o","tucano","urso panda","urso","urubu","urutu","vaca","vaga-lume","veado","vespa","v√≠bora",
      "vi√∫va-negra","wombat","zang√£o","zebra"],
      paises: ["Brasil","Argentina","Estados Unidos","Fran√ßa","It√°lia","Jap√£o","Portugal","Alemanha","M√©xico",
      "√Åfrica do Sul","Canad√°","China","Austr√°lia","Espanha","Inglaterra","Angola","Mo√ßambique","Nig√©ria",
      "Cabo Verde","Timor-Leste","S√£o Tom√© e Pr√≠ncipe","Nova Zel√¢ndia","√çndia","R√∫ssia","Ucr√¢nia","Col√¥mbia",
      "Chile","Peru","Paraguai","Uruguai","Venezuela","Cuba","Costa Rica","Honduras","Panam√°","Bol√≠via",
      "Egito","Marrocos","Tun√≠sia","Arg√©lia","Senegal","Camar√µes","Sud√£o","Eti√≥pia","Som√°lia","Qu√™nia",
      "Tanz√¢nia","Z√¢mbia","Zimb√°bue","Rep√∫blica Centro-Africana"]
    };

    let palavrasRodada = [];
    let indice = 0;
    let palavra = "";
    let palavraEscondida = "";
    let erros = 0;

    function iniciarJogo(qtd) {
      document.getElementById("menu").style.display = "none";
      const temas = Object.keys(palavras);
      let temaSorteado = temas[Math.floor(Math.random() * temas.length)];
      let lista = [...palavras[temaSorteado]];
      lista.sort(() => 0.5 - Math.random());
      palavrasRodada = lista.slice(0, qtd).map(p => p.toUpperCase());

      indice = 0;
      erros = 0;

      document.getElementById("tema").innerText = "Tema: " + temaSorteado.toUpperCase();
      document.getElementById("forca").innerText = "Erros: 0/6";
      document.getElementById("mensagem").innerText = "";
      prepararPalavra();

      // cria teclado
      const letrasDiv = document.getElementById("letras");
      letrasDiv.innerHTML = "";
      const alfabeto = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
      alfabeto.forEach(letra => {
        let btn = document.createElement("button");
        btn.innerText = letra;
        btn.onclick = () => jogar(letra, btn);
        letrasDiv.appendChild(btn);
      });
    }

    function prepararPalavra() {
      palavra = palavrasRodada[indice];
      palavraEscondida = "";
      for (let c of palavra) {
        if (c === " " || c === "-") {
          palavraEscondida += c; // mant√©m espa√ßo/h√≠fen vis√≠vel
        } else {
          palavraEscondida += "_";
        }
      }
      document.getElementById("palavra").innerText = palavraEscondida;
    }

    function jogar(letra, btn) {
      btn.disabled = true;
      let normalizada = removerAcentos(palavra);
      let acertou = false;
      let novaPalavra = "";

      for (let i = 0; i < palavra.length; i++) {
        if (palavraEscondida[i] !== "_") {
          novaPalavra += palavraEscondida[i]; // mant√©m revelado
        } else if (normalizada[i] === letra) {
          novaPalavra += palavra[i]; // revela com acento se tiver
          acertou = true;
        } else {
          novaPalavra += "_";
        }
      }

      palavraEscondida = novaPalavra;
      document.getElementById("palavra").innerText = palavraEscondida;

      if (acertou) {
        if (palavraEscondida === palavra) {
          indice++;
          if (indice < palavrasRodada.length) {
            document.getElementById("mensagem").innerText = "‚úÖ Acertou! Pr√≥xima palavra...";
            setTimeout(() => {
              prepararPalavra();
              document.getElementById("mensagem").innerText = "";
              document.querySelectorAll("#letras button").forEach(b => b.disabled = false);
            }, 1500);
          } else {
            document.getElementById("mensagem").innerText = "üéâ Voc√™ venceu!";
            desativarBotoes();
          }
        }
      } else {
        erros++;
        document.getElementById("forca").innerText = "Erros: " + erros + "/6";
        if (erros >= 6) {
          document.getElementById("mensagem").innerText = "üíÄ Voc√™ perdeu! As palavras eram: " + palavrasRodada.join(", ");
          desativarBotoes();
        }
      }
    }

    function desativarBotoes() {
      document.querySelectorAll("#letras button").forEach(b => b.disabled = true);
    }
  </script>
</body>
</html>
